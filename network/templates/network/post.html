{% extends "network/layout.html" %}

{% block body %}
<section class="bg-white dark:bg-gray-900 py-8 lg:py-16 px-6">
    <article class="h-fit text-black dark:text-white mb-4 break-inside p-6 rounded-xl bg-slate-200 dark:bg-slate-800 flex flex-col bg-clip-border">
        <div class="flex pb-6 items-center justify-between">
          <div class="flex">
            <a class="inline-block mr-4" href="#">
              <img class="rounded-full max-w-none w-14 h-14" src="{{post.author.image.url}}" />
            </a>
            <div class="flex flex-col">
              <div class="flex items-center">
                <a class="inline-block text-lg font-bold mr-2" href="#"> {{post.author.first_name}} {{post.author.last_name}}</a>
                <span class="text-slate-500 dark:text-slate-300">{{post.created_at}}</span>
              </div>
              <div class="text-slate-500 dark:text-slate-300">
                English
              </div>
            </div>
          </div>
        </div>
        <h2 class="text-3xl font-extrabold">
          {{ post.title }}
        </h2>
        <div class="py-4">
          <p>
            {{post.content}}
          </p>
        </div>
        <div class="py-4">
          <a class="inline-flex items-center" href="#">
            <span class="mr-2">
              <svg class="fill-rose-600 dark:fill-rose-400" style="width: 24px; height: 24px;" viewBox="0 0 24 24">
                <path
                  d="M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z">
                </path>
              </svg>
            </span>
            <span class="text-lg font-bold">{{post.likes.count}}</span>
          </a>
        </div>
        <div class="relative">
          <form action="{% url 'new_comment' post_id=post.id%}" method="post">
            {% csrf_token %}
            <input
            name="comment_input"  class="dark:border-gray-900 pt-2 pb-2 pl-3 w-full h-11 bg-slate-100 dark:bg-gray-900 rounded-lg placeholder:text-slate-600 dark:placeholder:text-slate-300 font-medium pr-20"
            type="text" placeholder="Write a comment" />
          <span class="flex absolute right-3 top-2/4 -mt-3 items-center">
            <button type="submit">
              <svg class="fill-blue-500 dark:fill-slate-50" style="width: 24px; height: 24px;" viewBox="0 0 24 24">
                <path d="M2,21L23,12L2,3V10L17,12L2,14V21Z"></path>
              </svg>
            </button>                        
          </span>
          </form>
          
        </div>
        <!-- Comments content -->
        {% for comment in post.comments.all %}
          <article class="p-6 mb-6 ml-6 lg:ml-12 text-base bg-white rounded-lg dark:bg-gray-900">
            <footer class="flex justify-between items-center mb-2">
                <div class="flex items-center">
                    <p class="inline-flex items-center mr-3 text-sm text-gray-900 dark:text-white"><img
                            class="mr-2 w-6 h-6 rounded-full"
                            src="{{comment.author.image.url}} "
                            alt="Jese Leos">{{comment.author.first_name}} {{comment.author.last_name}}</p>
                    <p class="text-sm text-gray-600 dark:text-gray-400"><time pubdate datetime="2022-02-12"
                            title="February 12th, 2022">{{comment.created_at}}</time></p>
                </div>
            </footer>
            <p class="text-gray-500 dark:text-gray-400">{{comment.content}}</p>
            <div class="flex items-center mt-4 space-x-4">
                <button type="button"
                    class="flex items-center text-sm text-gray-500 hover:underline dark:text-gray-400">
                    <svg aria-hidden="true" class="mr-1 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path></svg>
                    Reply
                </button>
            </div>
        </article>
        {% endfor %}
        
    </article>
  </section>
{% endblock %}